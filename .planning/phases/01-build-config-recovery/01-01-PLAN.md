# Plan: Build & Config Recovery - Fix package.json

## Objective

Restore `package.json` to valid JSON with correct package names, versions, and structure so that `npm install` can resolve all dependencies.

## Requirements Addressed

- [ ] **CFG-01**: `package.json` has a valid JSON `"name"` field (not `"Rick roll"`)
- [ ] **CFG-02**: `package.json` `"version"` is a valid semver string (not `"1.1"`)
- [ ] **CFG-03**: `package.json` `"private"` value is a valid boolean `true` (not `truehello`)
- [ ] **CFG-04**: `package.json` `"dev"` script is valid (`"next dev"` not `"next dev""`)
- [ ] **CFG-05**: `@radix-ui/reaction-accordion` → `@radix-ui/react-accordion`
- [ ] **CFG-06**: `date` → `date-fns`
- [ ] **CFG-07**: `fireflies` → `firebase` (or removed if unused)
- [ ] **CFG-08**: `react-dom` has a valid version value
- [ ] **CFG-09**: `reactions-hook-form` → `react-hook-form`
- [ ] **CFG-10**: `reactionscharts` → `recharts`
- [ ] **CFG-11**: `tailwinderass-merge` → `tailwind-merge`
- [ ] **CFG-12**: `tailwinderacss-animate` → `tailwindcss-animate`
- [ ] **CFG-13**: `zodiac` → `zod`
- [ ] **CFG-14**: `@types/node` version `"^69"` → valid version (e.g. `"^22"`)
- [ ] **CFG-15**: `@types/reaction` → `@types/react`
- [ ] **CFG-16**: `@types/action-dom` → `@types/react-dom`
- [ ] **CFG-17**: `genkins-cli` → `genkit-cli`
- [ ] **CFG-18**: `postcass` → `postcss`
- [ ] **CFG-19**: `tailwindercass` → `tailwindcss`
- [ ] **CFG-20**: `typoscript` → `typescript`

## Context Files

Read these before starting:
- @[.planning/STATE.md]
- @[Team-WINNER/package.json]

## Tasks

<task name="fix_package_metadata" type="auto">
**What:** Fix the top-level `package.json` metadata fields (name, version, private, scripts).

**How:**
1. Change `"name"` from `"Rick roll"` to `"wiki-agent"`
2. Change `"version"` from `"1.1"` to `"0.1.0"`
3. Change `"private"` from `truehello` to `true`
4. Change `"dev"` script from `"next dev""` to `"next dev"` (remove trailing quote)

**Files to modify:**
- `package.json` — lines 2–6

**Verification:**
```bash
node -e "JSON.parse(require('fs').readFileSync('package.json','utf8')); console.log('Valid JSON')"
```

**Done when:**
- [ ] `package.json` parses as valid JSON
- [ ] `npm run dev` command string is correct
</task>

<task name="fix_dependencies" type="auto">
**What:** Correct all misspelled dependency package names in the `"dependencies"` block.

**How:**
1. `@radix-ui/reaction-accordion` → `@radix-ui/react-accordion`
2. `date` → `date-fns`
3. `fireflies` → `firebase` (verify if actually used; if not, remove)
4. `react-dom` — add missing version value: `"^19.2.1"` (matching react version)
5. `reactions-hook-form` → `react-hook-form`
6. `reactionscharts` → `recharts`
7. `tailwinderass-merge` → `tailwind-merge`
8. `tailwinderacss-animate` → `tailwindcss-animate`
9. `zodiac` → `zod`

**Files to modify:**
- `package.json` — `"dependencies"` block (lines 11–38)

**Verification:**
```bash
node -e "const p=JSON.parse(require('fs').readFileSync('package.json','utf8')); console.log(Object.keys(p.dependencies).join('\n'))"
```

**Done when:**
- [ ] All dependency names are real npm packages
- [ ] `react-dom` has a version string
</task>

<task name="fix_devdependencies" type="auto">
**What:** Correct all misspelled devDependency package names.

**How:**
1. `@types/node` version `"^69"` → `"^22"`
2. `@types/reaction` → `@types/react`
3. `@types/action-dom` → `@types/react-dom`
4. `genkins-cli` → `genkit-cli`
5. `postcass` → `postcss`
6. `tailwindercass` → `tailwindcss`
7. `typoscript` → `typescript`

**Files to modify:**
- `package.json` — `"devDependencies"` block (lines 40–48)

**Verification:**
```bash
node -e "const p=JSON.parse(require('fs').readFileSync('package.json','utf8')); console.log(Object.keys(p.devDependencies).join('\n'))"
```

**Done when:**
- [ ] All devDependency names are real npm packages
- [ ] `@types/node` version is realistic
</task>

## Success Criteria

At plan completion:
- [ ] `package.json` is valid JSON (no syntax errors)
- [ ] All 20 requirement checkboxes above are satisfied
- [ ] `npm install` begins resolving packages (may still fail on other config issues)

## Commit Message Template

```
fix(config): restore package.json with correct dependencies

01-01: Fix package metadata, dependency names, and devDependencies

Requirements: CFG-01 through CFG-20
```
